<!DOCTYPE html>
<html>
  <head>
    <title>Custom Validation Library</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link
      rel="stylesheet"
      href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"
    />
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  </head>
  <body>
    <div class="container mt-5">
      <form id="myForm">
        <div class="form-group">
          <label for="name">Name*</label>
          <input
            type="text"
            class="form-control"
            name="name"
            placeholder="Name"
          />
        </div>
        <div class="form-group">
          <label for="email">Email*</label>
          <input
            type="text"
            class="form-control"
            name="email"
            placeholder="Email"
          />
        </div>
        <div class="form-group">
          <label for="role">Role*</label>
          <select name="role" id="role">
            <option value="">Select Role</option>
            <option value="role1">Subscriber</option>
            <option value="role2">Contributor</option>
            <option value="role3">Administrator</option>
          </select>
        </div>

        <button type="submit" class="btn btn-primary" id="submitButton">
          Submit
        </button>
      </form>
    </div>

    <script src="./validations.js"></script>
    <script>
      $("#myForm").customValidation({
        rules: {
          name: ["required", "validName"],
          email: ["required", "validEmail"],
          role: ["required"],
        },
        messages: {
          name: {
            required: "Name is required.",
            alphabeticWithSpace: "Please enter alphabetic characters only.",
          },
          email: {
            required: "Email is required.",
            validEmail: "Please enter a valid email address.",
          },
        },
        success: function () {
          console.log("Success");
        },
      });

      /* let currentStep = 0;
      const steps = $(".step");
      const submitButton = $("#submitButton");
      const prevButton = $("#prevButton");
      const nextButton = $("#nextButton");

      function updateButtonVisibility() {
        if (currentStep === steps.length - 1) {
          submitButton.show();
          nextButton.hide();
        } else {
          submitButton.hide();
          nextButton.show();
        }

        if (currentStep === 0) {
          prevButton.hide();
        } else {
          prevButton.show();
        }
      }

      updateButtonVisibility();

      $("#nextButton").on("click", function () {
        if (currentStep < steps.length - 1) {
          // steps.eq(currentStep).hide();
          // currentStep++;
          // steps.eq(currentStep).show();
          // updateButtonVisibility();

          let form = $("#myForm");
          form.submit();
        }
      });

      $("#prevButton").on("click", function () {
        if (currentStep > 0) {
          steps.eq(currentStep).hide();
          currentStep--;
          steps.eq(currentStep).show();
          updateButtonVisibility();
        }
      }); */
    </script>

    <script>
      /* $(function () {
        let currentDate = new Date();
        $(".fromdatepicker").datepicker({
          dateFormat: "mm-dd-yy",
          maxDate: currentDate,
          onSelect: function (selectedDate) {
            // Trigger validation for the To Date input
            $("#myForm").trigger("datepickerSelect", ["fromDate"]);
            $(this).datepicker("hide");
          },
        });

        $(".todatepicker").datepicker({
          dateFormat: "mm-dd-yy",
          maxDate: currentDate,
          onSelect: function (selectedDate) {
            // Trigger validation for the To Date input
            $("#myForm").trigger("datepickerSelect", ["toDate"]);
          },
        });
      }); */
    </script>
  </body>
</html>
